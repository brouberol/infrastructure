# misc
hostname: gallifrey

# certbot
certbot_list_of_certs_to_create:
  - "{{ page_domain }}"
  - "{{ blog_domain }}"
  - "{{ lounge_domain }}"
  - "{{ fathom_domain }}"
  - "{{ wallabag_domain }}"
  - "{{ radicale_domain }}"

# Datadog
datadog_agent6: true
datadog_config:
  log_level: INFO
  tags: "name:{{ hostname }}, role:web"
datadog_checks:
  process:
    init_config:
    instances:
      - name: ssh
        search_string: ['ssh', 'sshd']
      - name: nginx
        search_string: ['nginx']
      - name: lounge
        search_string: ['/usr/local/lib/node_modules/thelounge/index.js']
        exact_match: false
      - name: fathom
        search_string: ['fathom']
      - name: radicale
        search_string: ['python3 -m radicale']
        exact_match: false
  nginx:
    init_config:
    instances:
     - nginx_status_url: "https://{{ page_domain }}/basic_status"
     - nginx_status_url: "https://{{ blog_domain }}/basic_status"
     - nginx_status_url: "https://{{ lounge_domain }}/basic_status"
     - nginx_status_url: "https://{{ fathom_domain }}/basic_status"
     - nginx_status_url: "https://{{ wallabag_domain }}/basic_status"
     - nginx_status_url: "https://{{ radicale_domain }}/basic_status"

  http_check:
    init_config:
    instances:
    - url: "https://{{ page_domain }}"
      name: "{{ page_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ page_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600
    - url: "https://{{ blog_domain }}"
      name: "{{ blog_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ blog_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600
    - url: "https://{{ lounge_domain }}"
      name: "{{ lounge_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ lounge_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600
    - url: "https://{{ fathom_domain }}"
      name: "{{ fathom_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ fathom_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600
    - url: "https://{{ wallabag_domain }}"
      name: "{{ wallabag_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ wallabag_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600
    - url: "https://{{ radicale_domain }}"
      name: "{{ radicale_domain }}"
      check_certificate_expiration: true
      days_warning: 14
      days_critical: 7
      check_hostname: true
      ssl_server_name: "{{ radicale_domain }}"
      disable_ssl_validation: false
      min_collection_interval: 3600

# Git
git_home: "/home/{{ git_user }}"
git_user: git
git_group: git
git_ssh_authorized_keys: "{{ user_ssh_authorized_keys }}"

# blog
blog_repo: "{{ git_home }}/blog.git"
blog_web_dir: "{{ web_home }}/blog"
blog_domain: "blog.{{ main_domain }}"

# page
page_repo: "{{ git_home }}/page.git"
page_web_dir: "{{ web_home }}/page"
page_domain: "{{ main_domain }}"

# lounge
lounge_domain: "irc.{{ main_domain }}"
lounge_host: localhost
lounge_port: 8000
lounge_home: "/home/{{ user }}/.lounge"

# myip
myip_domain: "ip.{{ main_domain }}"
myip_port: 8001

# fathom
fathom_domain: "stats.{{ main_domain }}"
fathom_port: 8002
fathom_home: "{{ user_home }}/fathom"
fathom_version: "1.2.1"

# wallabag
wallabag_home: "{{ user_home }}/wallabag"
wallabag_version: latest
wallabag_host: 127.0.0.1
wallabag_port: 8003
wallabag_domain: "wallabag.{{ main_domain }}"

# radicale
radicale_host: 127.0.0.1
radicale_port: 8004
radicale_domain: "caldav.{{ main_domain }}"
radicale_home: "{{ user_home }}/radicale"
